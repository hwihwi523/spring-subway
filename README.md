# 지하철 노선도

## 요구사항

### 구조
* 지하철 역
  * id
  * name
* 지하철 구간
  * id
  * 상행 역 id
  * 하행 역 id
  * 노선 id
  * distance
* 지하철 노선
  * id
  * name
  * color

### 구간 등록 기능
* 지하철 노선에 구간을 등록할 수 있다.
* ~~새로운 구간의 상행역은 노선에 등록되어 있는 하행 종점역이어야 한다.~~
* 구간을 생성하는 경우는 다음과 같다.
  1. 상행 종점역을 추가하는 경우
  2. 하행 종점역을 추가하는 경우
  3. 기준역 상행을 추가하는 경우
  4. 기준역 하행을 추가하는 경우
* ~~새로운 구간의 하행역은 노선에 등록되어 있지 않아야 한다.~~
* 위 조건에 부합하지 않는 경우에는 에러 처리한다. 400?
  * ~~새로운 구간의 상행역이 하행 종점역과 다를 경우~~
  * ~~새로운 구간의 하행역이 노선에 등록되어 있을 경우~~
  * 새로운 구간의 역들이 노선에 모두 존재할 경우
  * 새로운 구간의 역들이 노선에 모두 존재하지 않을 경우
  * 새로운 구간의 상행역과 하행역이 같을 경우
  * 새로운 구간의 길이가 기존 구간의 길이보다 길거나 같은 경우

### 구간 제거 기능
* 지하철 노선에서 구간을 제거할 수 있다.
* ~~하행 종점역만 제거할 수 있다.~~
* 어느 역이든 제거할 수 있다.
* 역을 제거하면 제거된 역의 양쪽 역으로 구간을 생성한다.
* 구간이 1개인 경우 IllegalStateException을 던진다.
* 존재하지 않는 역일 경우 IllegalArgumentException을 던진다.
* 위 조건에 부합하지 않는 경우에는 에러 처리한다. 400?
